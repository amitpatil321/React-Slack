(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{13:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"s",function(){return a}),n.d(t,"k",function(){return o}),n.d(t,"b",function(){return c}),n.d(t,"j",function(){return i}),n.d(t,"q",function(){return s}),n.d(t,"h",function(){return l}),n.d(t,"p",function(){return u}),n.d(t,"g",function(){return m}),n.d(t,"l",function(){return d}),n.d(t,"c",function(){return f}),n.d(t,"m",function(){return h}),n.d(t,"d",function(){return p}),n.d(t,"r",function(){return g}),n.d(t,"i",function(){return b}),n.d(t,"n",function(){return E}),n.d(t,"e",function(){return y}),n.d(t,"o",function(){return O}),n.d(t,"f",function(){return j});var r=function(e){return{type:"CHATKIT_READY",payload:e}},a=function(e){return{type:"UPDATE_ROOMS",payload:e}},o=function(e){return{type:"MESSAGE_RECEIVED",payload:e}},c=function(e){return{type:"CURRENT_USER",payload:e}},i=function(e){return{type:"CURRENT_ROOM",payload:e}},s=function(e){return{type:"SHOW_LOADING",payload:{show:!0,message:e}}},l=function(e){return{type:"HIDE_LOADING"}},u=function(){return{type:"SHOW_LISTCHANNELS"}},m=function(){return{type:"HIDE_LISTCHANNELS"}},d=function(){return{type:"SHOW_ADDCHANNEL"}},f=function(){return{type:"HIDE_ADDCHANNEL"}},h=function(){return{type:"SHOW_ADDPEOPLE"}},p=function(){return{type:"HIDE_ADDPEOPLE"}},g=function(){return{type:"SHOW_REMOVEPEOPLE"}},b=function(){return{type:"HIDE_REMOVEPEOPLE"}},E=function(){return{type:"SHOW_CHANNELINFODRAWER"}},y=function(){return{type:"HIDE_CHANNELINFODRAWER"}},O=function(){return{type:"SHOW_CHANNELDELCONFIRM"}},j=function(){return{type:"HIDE_CHANNELDELCONFIRM"}}},169:function(e,t,n){e.exports=n(276)},174:function(e,t,n){},238:function(e,t,n){},257:function(e,t,n){},263:function(e,t,n){},265:function(e,t,n){},267:function(e,t,n){e.exports=n.p+"static/media/32.9f0be944.png"},275:function(e,t,n){},276:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(5),c=n.n(o),i=(n(174),n(20)),s=n(86),l=n(72),u=n(12),m={chatkitReady:!1,user:{},room:{},rooms:[],messages:{},error:null,addPeopleModalVisible:!1,remPeopleModalVisible:!1,channelInfoVisible:!1,addChannelModalVisible:!1,listChannelsModalVisible:!1,deleteChannelConfirmVisible:!1,isLoading:{show:!1,message:null}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHATKIT_READY":return Object(u.a)({},e,{rooms:t.payload,chatkitReady:!0});case"UPDATE_ROOMS":return Object(u.a)({},e,{rooms:t.payload});case"MESSAGE_RECEIVED":var n=t.payload.room.id,r=t.payload.id;return Object(u.a)({},e,{messages:Object(u.a)({},e.messages,Object(l.a)({},n,Object(u.a)({},e.messages[n],Object(l.a)({},r,t.payload))))});case"CURRENT_USER":return Object(u.a)({},e,{user:t.payload});case"CURRENT_ROOM":return Object(u.a)({},e,{room:t.payload});case"SHOW_LISTCHANNELS":return Object(u.a)({},e,{listChannelsModalVisible:!0});case"HIDE_LISTCHANNELS":return Object(u.a)({},e,{listChannelsModalVisible:!1});case"SHOW_LOADING":return Object(u.a)({},e,{isLoading:{show:!0,message:t.payload.message?t.payload.message:null}});case"HIDE_LOADING":return Object(u.a)({},e,{isLoading:{show:!1,message:null}});case"SHOW_ADDCHANNEL":return Object(u.a)({},e,{addChannelModalVisible:!0});case"HIDE_ADDCHANNEL":return Object(u.a)({},e,{addChannelModalVisible:!1});case"SHOW_CHANNELINFODRAWER":return Object(u.a)({},e,{channelInfoVisible:!0});case"HIDE_CHANNELINFODRAWER":return Object(u.a)({},e,{channelInfoVisible:!1});case"SHOW_ADDPEOPLE":return Object(u.a)({},e,{addPeopleModalVisible:!0});case"HIDE_ADDPEOPLE":return Object(u.a)({},e,{addPeopleModalVisible:!1});case"NEWPEOPLEADDED":return Object(u.a)({},e);case"SHOW_REMOVEPEOPLE":return Object(u.a)({},e,{remPeopleModalVisible:!0});case"HIDE_REMOVEPEOPLE":return Object(u.a)({},e,{remPeopleModalVisible:!1});case"SHOW_CHANNELDELCONFIRM":return Object(u.a)({},e,{deleteChannelConfirmVisible:!0});case"HIDE_CHANNELDELCONFIRM":return Object(u.a)({},e,{deleteChannelConfirmVisible:!1});default:return e}},f=Object(s.b)(d),h=n(160),p=n(68),g=n(49),b=n(24),E=n(25),y=n(28),O=n(26),j=n(87),v=n(27),C=n(153),w=n.n(C),I="http://localhost:4000",S=["<3","</3","8)","D:",":|",":o)","=)","=-)",":D",":-D",";)",";-)",":>",":->",":o",":-o",">:(",">:-(",":)","(:",":-)",":(","):",":-(",":/",":-/",':"',":P",":-P",":-b",";p",";-p",";b",";-b",":*",":-*"],D=n(154),k=function(e){var t=e.onSuccess,n=e.onFailure,r=e.error;return a.a.createElement(a.a.Fragment,null,r,a.a.createElement(D.GoogleLogin,{clientId:"394070875412-2ln6tt11g9f8oh0b0uj394sssbmivnbb.apps.googleusercontent.com",buttonText:"Login",onSuccess:t,onFailure:n,cookiePolicy:"single_host_origin"}))};k.defaultProps={onSuccess:function(){},onFailure:function(){}};var N=k,R=n(289),L=function(e){var t=e.title,n=e.message,r=e.type,o=t||r;return a.a.createElement("div",{className:"mainContent",id:"mainContent"},a.a.createElement(R.a,{message:o.substring(0,1).toUpperCase()+o.substring(1),description:n,type:r,showIcon:!0}))};L.defaultProps={title:null};var P=L,_=function(e){function t(){var e,n;Object(b.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(o)))).state={loginSuccess:!1,error:null},n._onSuccess=function(e){var t=e.profileObj;if(t){var r=Object(j.a)(n);w.a.post("".concat(I,"/user"),t).then(function(t){localStorage.setItem("slack",JSON.stringify(e.profileObj)),r.setState({loginSuccess:!0})}).catch(function(e){r.setState({error:a.a.createElement(P,{type:"error",title:"error",message:"Failed to create user!, Please try again."})})})}},n._onFailure=function(e){n.setState({error:a.a.createElement(P,{type:"error",title:"error",message:"Failed to create user!, Please try again."})})},n}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.state,t=e.loginSuccess,n=e.error;return t?a.a.createElement(g.a,{to:"/"}):a.a.createElement(N,{error:n,onSuccess:this._onSuccess,onFailure:this._onFailure})}}]),t}(r.Component),A=n(162),x=n(22),M=n(13),H=n(117),T=n.n(H),V=n(286),F=new T.a.TokenProvider({url:"https://us1.pusherplatform.io/services/chatkit_token_provider/v1/".concat("a71e61a4-ff10-4d07-9f94-0c92a5862b4a","/token")}),U=n(283),W=n(284),z=n(10),q=n(280),G=n(64),K=n(89),J=n(9),Y=n(35),B=n(46),$=n(288),Q=n(287),X=n(281),Z=n(74),ee=n(85),te=(n(238),$.b.ItemGroup),ne=function(e){var t=e.user,n=e.room,r=e.rooms,o=e.messages,c=e.onSelection,i=e.onLogoutSuccess,s=e.showAddChannel;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"logged-user"},a.a.createElement(X.a,{src:t.avatarURL}),a.a.createElement("span",null,t.name),a.a.createElement(Z.a,{placement:"bottom",title:"Logout",trigger:"hover"},a.a.createElement(ee.a,{type:"link",onClick:i,className:"float-right"},a.a.createElement(z.a,{type:"poweroff"})))),a.a.createElement($.b,{className:"rooms-list",mode:"inline",theme:"dark",selectedKeys:[n?n.id:"21331018"]},a.a.createElement(te,{key:"g1",title:"Channels",className:"channel-group",id:"channels"},Object(x.sortBy)(r,function(e){return e.name}).map(function(e){var r=e.id,i=e.name,s=Object(J.a)(t,n,e,o)?"unread-message":"";return e.customData&&!0===e.customData.privateChat?null:a.a.createElement($.b.Item,{key:r,onClick:function(){return c(e)},className:"channel-".concat(r," ").concat(s)},Object(J.n)(e)," ",i)})),a.a.createElement($.b.Item,{className:"add-channel",onClick:s},a.a.createElement("strong",null,a.a.createElement(z.a,{type:"plus"}),"Add a channel")),a.a.createElement(te,{key:"g2",title:"Direct Message",className:"channel-group",id:"users"},function(){var e,i=r.find(function(e){return"21331018"===e.id});if(i)return Object(x.sortBy)(i.users,function(e){return e.name.toLowerCase()}).map(function(i){var s=Object(J.c)(t,r,i.id)[0];return s&&(e=Object(J.a)(t,n,s,o)?a.a.createElement(Q.a,{className:"float-right",count:s.unreadCount,overflowCount:10}):null),a.a.createElement($.b.Item,{key:s?s.id:i.id,onClick:function(){return c(i)},className:"channel-".concat(s?s.id:i.id," slack-users")},a.a.createElement("span",{className:"online-status ".concat("online"===i.presence.state?"online":"offline")}),i.name," ",i.id===t.id&&a.a.createElement("small",null,"(you)"),e)})}())))},re=function(e){function t(){var e,n;Object(b.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(a)))).state={isLoggedIn:!0},n._onLogoutSuccess=function(){window.localStorage.removeItem("slack"),n.setState({isLoggedIn:!1})},n._onSelection=function(e){var t=n.props,r=t.user,a=t.rooms,o=t.joinRoom,c=t.showLoading,i=t.hideLoading;if(void 0===e.avatarURL)o(e);else{var s=Object(J.c)(r,a,e.id);if(s.length)o(s[0]);else{var l=[r.id,e.id].sort().join("");c("Wait a moment!"),Object(Y.b)(r,l,[r.id,e.id],!0,{privateChat:!0,userIds:[r.id,e.id].sort()},function(e){o(e),i()},function(e){Object(B.a)("error","Error","Error creating private room, Please try again!")})}}},n}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.showListChannels;document.querySelector("#channels .ant-menu-item-group-title").addEventListener("click",e)}},{key:"render",value:function(){var e=this.state.isLoggedIn,t=this.props,n=t.user,r=t.room,o=t.rooms,c=t.messages,i=t.showAddChannel,s=t.showListChannels;return e?a.a.createElement(ne,{user:n,room:r,rooms:o,messages:c,onLogoutSuccess:this._onLogoutSuccess,onSelection:this._onSelection,showAddChannel:i,showListChannels:s}):a.a.createElement(g.a,{to:"/login"})}}]),t}(r.Component),ae=Object(i.b)(function(e){return{user:e.user,room:e.room,rooms:e.rooms,messages:e.messages}},function(e){return{showListChannels:function(){return e(Object(M.p)())},showAddChannel:function(){return e(Object(M.l)())},showLoading:function(t){return e(Object(M.q)(t))},hideLoading:function(){return e(Object(M.h)())},joinRoom:function(t){return e(Object(M.j)(t))}}})(re),oe=n(60),ce=n.n(oe),ie=n(278),se=n(279),le=n(282),ue=n(158),me=n.n(ue),de=(n(257),function(e){var t=e.room,n=e.canGroup,r=e.message;if(void 0===r)return!1;var o=r.id,c=r.senderId,i=r.text,s=r.createdAt,l=a.a.createElement(Z.a,{title:ce()(s).format("MMM D, YYYY [at] hh:mm:ss A")},a.a.createElement("small",null,ce()(s).format("hh:mm A"))),u=Object(J.g)(t,c),m=Object(J.h)(t,c);return n?a.a.createElement(ie.a,{className:"grouped-message",key:o},a.a.createElement(se.a,{span:1,style:{width:"55px"}},l),a.a.createElement(se.a,{span:21},a.a.createElement("span",{className:"message-text"},i))):a.a.createElement(le.a,{key:o,author:a.a.createElement("div",{className:"message-sender"},u,"\xa0",l),avatar:a.a.createElement(X.a,{src:m,alt:u}),content:a.a.createElement("span",{className:"message-text"},a.a.createElement(me.a,{properties:{target:"_blank"}},i))})}),fe=function(e){function t(){return Object(b.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.user,n=e.room,r=e.messages;n.unreadCount&&Object(Y.h)(t,n,r[n.id]);var a=document.querySelector(".content");a.scrollTop=a.scrollHeight}},{key:"render",value:function(){var e,t,n=this.props,r=n.room,o=n.messages;return(o=o[r.id])?Object.keys(o).map(function(n,c){var i=!1;if(t=o[n],void 0!==e){var s=ce()(t.createdAt),l=ce()(e.createdAt),u=s.diff(l,"minutes",!0);u>0&&u<=5&&e.senderId===t.senderId&&(i=!0)}return e=t,a.a.createElement(de,{room:r,key:o[n].id,canGroup:i,message:o[n]})}):null}}]),t}(r.Component),he=Object(i.b)(function(e){return{user:e.user,room:e.room,rooms:e.rooms,messages:e.messages}})(fe),pe=function(e){var t=e.options,n=e.showChannelInfoDrawer;return a.a.createElement($.b,{mode:"horizontal",selectedKeys:[""],style:{width:"100px"}},a.a.createElement($.b.Item,{key:"setting:0",onClick:n},a.a.createElement(z.a,{type:"info-circle",style:{color:"#1890ff",fontSize:18}})),t)},ge=Object(r.lazy)(function(){return Promise.all([n.e(0),n.e(1),n.e(10)]).then(n.bind(null,366))}),be=Object(r.lazy)(function(){return Promise.all([n.e(0),n.e(1),n.e(12)]).then(n.bind(null,370))}),Ee=Object(r.lazy)(function(){return Promise.all([n.e(6),n.e(7)]).then(n.bind(null,371))}),ye=Object(r.lazy)(function(){return Promise.all([n.e(0),n.e(11)]).then(n.bind(null,367))}),Oe=$.b.SubMenu,je=function(e){function t(){var e,n;Object(b.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(a))))._leaveRoom=function(){var e=n.props,t=e.user,r=e.room;Object(Y.f)(t,r.id,t.id,function(){return Object(J.o)()},function(e){return Object(B.a)("error","Error leaving channel",e)})},n}return Object(v.a)(t,e),Object(E.a)(t,[{key:"_availabeOptions",value:function(){var e=this.props,t=e.user,n=e.room,r=e.showChannelInfoDrawer,o=e.showAddPeople,c=e.showRemovePeople,i=e.showDeleteChannelConfirm;if(null===n)return!1;var s=n.name;return Object(J.k)(n)?a.a.createElement(Oe,{title:a.a.createElement(z.a,{type:"setting",style:{fontSize:18}})},a.a.createElement($.b.Item,{key:"setting:5",onClick:r},"View conversation details")):a.a.createElement(Oe,{title:a.a.createElement(z.a,{type:"setting",style:{fontSize:18}})},a.a.createElement($.b.Item,{key:"setting:1",onClick:o},"Add people to"," ",Object(J.n)(n),s,"\xa0"),Object(J.i)(t)&&!Object(J.j)(n)&&a.a.createElement($.b.Item,{key:"setting:2",onClick:c},"Remove People from"," ",Object(J.n)(n),s),a.a.createElement($.b.Item,{key:"setting:3",onClick:r},"View channel details"),!Object(J.j)(n)&&a.a.createElement($.b.Item,{key:"setting:5",onClick:this._leaveRoom},"Leave"," ",Object(J.n)(n),s),Object(J.i)(t)&&!Object(J.j)(n)&&a.a.createElement($.b.Item,{key:"setting:4",onClick:i},"Delete channel"))}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.room,o=e.showChannelInfoDrawer,c=e.channelInfoVisible,i=e.hideChannelInfoDrawer;return a.a.createElement(a.a.Fragment,null,a.a.createElement(pe,{options:this._availabeOptions(),showChannelInfoDrawer:o}),a.a.createElement(r.Suspense,{fallback:""},a.a.createElement(ge,null),a.a.createElement(be,null),a.a.createElement(ye,null),a.a.createElement(Ee,{user:t,room:n,channelInfoVisible:c,hideChannelInfoDrawer:i})))}}]),t}(r.Component),ve=Object(i.b)(function(e){return{user:e.user,room:e.room,channelInfoVisible:e.channelInfoVisible}},function(e){return{showChannelInfoDrawer:function(){return e(Object(M.n)())},hideChannelInfoDrawer:function(){return e(Object(M.e)())},showAddPeople:function(){return e(Object(M.m)())},showRemovePeople:function(){return e(Object(M.r)())},showDeleteChannelConfirm:function(){return e(Object(M.o)())}}})(je),Ce=(n(263),function(e){var t,n,r=e.user,o=e.room,c=e.showChannelInfoDrawer;if(void 0===o.customData||!1===o.customData.privateChat)n=[a.a.createElement(z.a,{type:"user",key:o.id}),o.userIds.length],t=a.a.createElement(a.a.Fragment,null,Object(J.n)(o),o.name);else{var i=Object(x.filter)(o.customData.userIds,function(e){return e!==r.id});i.length?t=Object(J.g)(o,i):(i=r.id,t="".concat(r.name," (you)")),n=Object(J.l)(Object(J.f)(o,i))}return a.a.createElement(ie.a,null,a.a.createElement(se.a,{span:20},a.a.createElement("span",{className:"room-title"},t),"\xa0",a.a.createElement("span",{className:"seperator"}," "),a.a.createElement(ee.a,{type:"link",shape:"circle",onClick:c},a.a.createElement("small",null,n))),a.a.createElement(se.a,{span:4,className:"room-settings"},a.a.createElement(ve,null)))}),we=function(e){function t(){return Object(b.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.room,r=e.showChannelInfoDrawer;return n&&a.a.createElement(Ce,{user:t,room:n,showChannelInfoDrawer:r})}}]),t}(r.Component),Ie=Object(i.b)(function(e){return{user:e.user,room:e.room,rooms:e.rooms,showChannelInfoDrawer:e.showChannelInfoDrawer,addPeopleModalVisible:e.addPeopleModalVisible,remPeopleModalVisible:e.remPeopleModalVisible}},function(e){return{showChannelInfoDrawer:function(){return e(Object(M.n)())}}})(we),Se=n(161),De=n(285),ke=n(92),Ne=(n(265),n(266),De.a.TextArea),Re=function(e){var t,o=e.user,c=e.room,i=e.message,s=e.onChange,l=e.onKeyDown,u=e.onEmojiSelected,m=Object(r.useState)(!1),d=Object(Se.a)(m,2),f=d[0],h=d[1];if(c.customData&&!0===c.customData.privateChat){var p=Object(x.filter)(c.userIds,function(e){return e!==o.id});t=p.length?"Message ".concat(Object(J.g)(c,p)):"Jot something down"}return a.a.createElement(K.Detector,{render:function(e){var r=e.online;return a.a.createElement(a.a.Fragment,null,a.a.createElement(ie.a,{className:"messagebox-container"},a.a.createElement(se.a,{span:23},a.a.createElement(Ne,{value:i,onChange:s,onKeyDown:l,placeholder:t,autosize:{minRows:1,maxRows:4},className:"slack-message",disabled:!r})),a.a.createElement(se.a,{span:1},a.a.createElement(ee.a,{type:"link",className:"smiley",onClick:function(){return h(!f)}},a.a.createElement(z.a,{type:"smile"})),f&&a.a.createElement(ke.a,{set:"emojione",style:{position:"absolute",bottom:"35px",right:"0px"},title:"".concat("Slack Clone","\u2122"),emojiTooltip:!0,sheetSize:32,backgroundImageFn:function(){return n(267)},onSelect:function(e){u(e),h(!f)}}))),a.a.createElement("small",{className:"text-red",style:{display:r?"none":"block"}},"You are offline, so messages can\u2019t be sent yet."))}})};Re.defaultProps={onChange:function(){},onKeyDown:function(){},onEmojiSelected:function(){}};var Le=Re,Pe=n(1),_e=function(e){function t(){var e,n;Object(b.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(a)))).state={message:"",curserPositonStart:0,curserPositonEnd:0},n._onChange=function(e){var t=e.target.value,r=["http","ttps"];S.forEach(function(e){var n=t.indexOf(e);if(-1!==n&&!r.includes(t.substring(n,n-4))){var a=ke.b.search(e).map(function(e){return e.native});a.length&&(t=t.replace(e,a[0]))}}),n.setState({message:t})},n._onKeyDown=function(e){if("Enter"===e.key){var t=n.props,r=t.user,a=t.room,o=n.state.message;o&&o.trim().length&&(n.setState({message:""}),Object(Y.g)(r,a.id,o,function(){},function(e){Object(B.a)("error","Error","Failed to send message, Please try again. ".concat(e))})),e.preventDefault(),e.stopPropagation()}},n._onEmojiSelected=function(e){var t=n.state,r=t.curserPositonStart,a=t.curserPositonEnd,o=document.querySelector(".slack-message").value,c=["".concat(o.substring(0,r)),"".concat(e.native),"".concat(o.substring(a,n.length))];n.setState({message:c.join("")})},n}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this._handleCursorPosition.bind(this),!0),document.addEventListener("click",this._handleCursorPosition.bind(this),!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this._handleCursorPosition.bind(this),!0),document.removeEventListener("click",this._handleCursorPosition.bind(this),!0)}},{key:"_handleCursorPosition",value:function(e){e.target.classList.contains("slack-message")&&this.setState({curserPositonStart:e.target.selectionStart,curserPositonEnd:e.target.selectionEnd})}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.room,r=this.state.message;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Le,{user:t,room:n,message:r,onChange:this._onChange,onKeyDown:this._onKeyDown,onEmojiSelected:this._onEmojiSelected}))}}]),t}(r.Component);Le.propTypes={user:Pe.PropTypes.object.isRequired,room:Pe.PropTypes.object.isRequired};var Ae=Object(i.b)(function(e){return{user:e.user,room:e.room}})(_e),xe=Object(r.lazy)(function(){return Promise.all([n.e(0),n.e(1),n.e(5),n.e(8)]).then(n.bind(null,368))}),Me=Object(r.lazy)(function(){return Promise.all([n.e(0),n.e(1),n.e(13),n.e(9)]).then(n.bind(null,365))}),He=U.a.Header,Te=U.a.Content,Ve=U.a.Footer,Fe=U.a.Sider,Ue=W.a.Title,We=a.a.createElement(z.a,{type:"loading",style:{fontSize:24},spin:!0}),ze=function(e){var t=e.user,n=e.room,o=e.rooms,c=e.isLoading,i=e.error;return Object.keys(t).length&&Object.keys(n).length&&o.length?a.a.createElement(a.a.Fragment,null,a.a.createElement(U.a,null,a.a.createElement(Fe,{className:"sidebar"},a.a.createElement(ae,null)),a.a.createElement(U.a,null,a.a.createElement(He,{className:"header"},a.a.createElement(Ie,null)),a.a.createElement(Te,{className:"content"},i&&a.a.createElement(R.a,{message:i,type:"error"}),a.a.createElement(K.Offline,null,a.a.createElement(R.a,{message:"Your computer seems to be offline. We\u2019ll keep trying to reconnect.",type:"warning"})),c.show&&a.a.createElement("div",{className:"screen-center text-center"},a.a.createElement(q.a,{indicator:We,tip:c.message})),a.a.createElement(he,null)),a.a.createElement(Ve,{className:"footer"},a.a.createElement(Ae,null)))),a.a.createElement(r.Suspense,{fallback:""},a.a.createElement(Me,null),a.a.createElement(xe,null))):a.a.createElement(U.a,null,a.a.createElement(Fe,{className:"sidebar"},a.a.createElement(G.a,{height:160,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#888"},a.a.createElement("rect",{x:"122",y:"33",rx:"4",ry:"4",width:"187",height:"18"}),a.a.createElement("circle",{cx:"72",cy:"47",r:"35"})),a.a.createElement(G.a,{height:340,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#888"},a.a.createElement("rect",{x:"25",y:"14",rx:"4",ry:"4",width:"187",height:"26"}),a.a.createElement("rect",{x:"25",y:"70",rx:"4",ry:"4",width:"267",height:"26"}),a.a.createElement("rect",{x:"25",y:"127",rx:"4",ry:"4",width:"267",height:"26"}),a.a.createElement("rect",{x:"25",y:"187",rx:"4",ry:"4",width:"267",height:"26"}),a.a.createElement("rect",{x:"25",y:"247",rx:"4",ry:"4",width:"267",height:"26"})),a.a.createElement(G.a,{height:100,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#888"},a.a.createElement("rect",{x:"25",y:"15",rx:"4",ry:"4",width:"250",height:"26"})),a.a.createElement(G.a,{height:340,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#888"},a.a.createElement("rect",{x:"25",y:"14",rx:"4",ry:"4",width:"187",height:"26"}),a.a.createElement("rect",{x:"25",y:"70",rx:"4",ry:"4",width:"267",height:"26"}),a.a.createElement("rect",{x:"25",y:"127",rx:"4",ry:"4",width:"267",height:"26"}),a.a.createElement("rect",{x:"25",y:"187",rx:"4",ry:"4",width:"267",height:"26"}),a.a.createElement("rect",{x:"25",y:"247",rx:"4",ry:"4",width:"267",height:"26"}))),a.a.createElement(U.a,null,a.a.createElement(He,{className:"header"},a.a.createElement(G.a,{height:30,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#888"},a.a.createElement("rect",{x:"0",y:"8",rx:"3",ry:"3",width:"30",height:"3"}),a.a.createElement("circle",{cx:"35",cy:"10",r:"3"}),a.a.createElement("circle",{cx:"93%",cy:"10",r:"3"}),a.a.createElement("circle",{cx:"97%",cy:"10",r:"3"}))),a.a.createElement(Te,{className:"content"},a.a.createElement("div",{className:"screen-center text-center"},a.a.createElement(Ue,{level:3},"Thanks you for using ".concat("Slack Clone",". We appreciate it!")),a.a.createElement("p",{className:"text-light"},"- Your friends at ".concat("Slack Clone")),a.a.createElement(q.a,{indicator:We}))),a.a.createElement(Ve,{className:"footer"})))};ze.defaultProps={isLoading:{show:!1,message:""},error:null};var qe=ze,Ge=function(e){function t(){var e,n;Object(b.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(a)))).actions={connected:function(e){return n.props.connected(e)},refresh:function(){return n.forceUpdate()},isTyping:function(){return console.log("isTyping")},notTyping:function(){return console.log("notTyping")},subscribeToRoom:function(e){var t=Object(x.uniqBy)([].concat(Object(A.a)(n.props.rooms),[e]),function(e){return e.id});n.props.updateRooms(t),Object(Y.i)(n.props.user,e.id,{onMessage:n.actions.addMessage})},removedFromRoom:function(e){var t=n.props,r=t.room,a=t.rooms;e.id===r.id&&n.props.joinRoom(a.find(function(e){return"21331018"===e.id})),n.props.updateRooms(Object(x.filter)(a,function(t){return t.id!==e.id}))},setUserPresence:function(){return n.forceUpdate()},addMessage:function(e){setTimeout(function(){n.props.setMessages(e)},200)},setUser:function(e){return n.props.currentUser(e)},joinRoom:function(e){return n.props.joinRoom(e)},roomDeleted:function(e){return n.actions.removedFromRoom(e)},error:function(e){return n.setState({error:e})}},n._leaveRoom=function(){var e=n.state,t=e.user,r=e.room;Object(Y.f)(t,r.id,t.id,function(){return Object(J.o)()},function(e){return Object(B.a)("error","Error leaving channel",e)})},n}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e,t,n=JSON.parse(localStorage.getItem("slack"));n&&n.googleId&&(e=JSON.parse(localStorage.getItem("slack")).googleId,t=this.actions,new T.a.ChatManager({instanceLocator:"v1:us1:a71e61a4-ff10-4d07-9f94-0c92a5862b4a",userId:e,tokenProvider:F}).connect({onAddedToRoom:t.subscribeToRoom,onRemovedFromRoom:t.removedFromRoom,onPresenceChanged:t.setUserPresence,onRoomDeleted:t.roomDeleted}).then(function(e){Promise.all(e.rooms.map(function(n){return e.subscribeToRoom({roomId:n.id,messageLimit:5,hooks:{onUserJoined:t.refresh,onMessage:t.addMessage,onUserLeft:t.refresh,onUserStartedTyping:t.isTyping,onUserStoppedTyping:t.notTyping}})})).then(function(n){t.setUser(e),e.rooms.length>0&&t.joinRoom(e.rooms[0]),t.connected(e.rooms)})}).catch(function(e){e.info?V.a.error({message:e.info.error,description:e.info.error_description,onClose:function(){console.log("inside onClose"),localStorage.removeitem("slackUser")}}):t.error(t)}))}},{key:"render",value:function(){var e=JSON.parse(localStorage.getItem("slack")),t=this.props,n=t.user,r=t.room,o=t.rooms,c=t.messages,i=t.showChannelInfoDrawer,s=t.isLoading,l=t.error;return e&&e.googleId?a.a.createElement(qe,{user:n,room:r,rooms:o,messages:c,showChannelInfoDrawer:i,isLoading:s,error:l}):a.a.createElement(g.a,{to:"/login"})}}]),t}(r.Component);Ge.defaultProps={error:null};var Ke=Object(i.b)(function(e){return{chatkitReady:e.chatkitReady,user:e.user,room:e.room,rooms:e.rooms,messages:e.messages,channelInfoVisible:e.channelInfoVisible,isLoading:e.isLoading,error:e.error}},function(e){return{connected:function(t){return e(Object(M.a)(t))},updateRooms:function(t){return e(Object(M.s)(t))},currentUser:function(t){return e(Object(M.b)(t))},joinRoom:function(t){return e(Object(M.j)(t))},setMessages:function(t){return e(Object(M.k)(t))},showChannelInfoDrawer:function(){return e(Object(M.n)())}}})(Ge);n(274),n(275);var Je=Object(h.hot)(Object(i.b)()(function(){return a.a.createElement(p.a,null,a.a.createElement(g.d,null,a.a.createElement(g.b,{exact:!0,path:"/",component:Ke}),a.a.createElement(g.b,{path:"/login",component:_})))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ye=a.a.createElement(i.a,{store:f},a.a.createElement(Je,null));c.a.render(Ye,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},35:function(e,t,n){"use strict";function r(e,t,n,r,a){e.addUserToRoom({userId:n,roomId:t}).then(function(){return r()}).catch(function(e){return a(e)})}function a(e,t,n,r){e.joinRoom({roomId:t.id}).then(function(e){return n(e)}).catch(function(e){return r(e)})}function o(e,t,n,r,a){e.removeUserFromRoom({userId:n,roomId:t}).then(function(){return r()}).catch(function(e){return a(e)})}function c(e,t,n,r,a){e.sendMultipartMessage({roomId:t,parts:[{type:"text/plain",content:n}]}).then(function(e){return r(e)}).catch(function(e){return a(e)})}function i(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{privateChat:!1},o=arguments.length>5?arguments[5]:void 0,c=arguments.length>6?arguments[6]:void 0;e.createRoom({name:t,addUserIds:n,private:r,customData:a}).then(function(e){return o(e)}).catch(function(e){return c(e)})}function s(e,t,n){e.subscribeToRoom({roomId:t,hooks:n})}function l(e,t,n,r){e.deleteRoom({roomId:t.id}).then(function(){return n()}).catch(function(e){return r(e)})}function u(e,t,n){e.getJoinableRooms().then(function(e){return t(e)}).catch(function(e){return n(e)})}function m(e,t,n){n&&e.setReadCursor({roomId:t.id,position:parseInt(Object.keys(n)[Object.keys(n).length-1])}).catch(function(e){return console.log("Error setting read cursor!")})}n.d(t,"a",function(){return r}),n.d(t,"e",function(){return a}),n.d(t,"f",function(){return o}),n.d(t,"g",function(){return c}),n.d(t,"b",function(){return i}),n.d(t,"i",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return u}),n.d(t,"h",function(){return m})},46:function(e,t,n){"use strict";var r=n(286),a=n(1),o=n.n(a),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"success",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";r.a[e]({message:t,description:n})};c.propTypes={title:o.a.string.isRequired,description:o.a.string.isRequired};var i=c;n.d(t,"a",function(){return i})},9:function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"e",function(){return s}),n.d(t,"m",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"g",function(){return m}),n.d(t,"h",function(){return d}),n.d(t,"f",function(){return f}),n.d(t,"o",function(){return h}),n.d(t,"c",function(){return p}),n.d(t,"k",function(){return g}),n.d(t,"i",function(){return b}),n.d(t,"j",function(){return E}),n.d(t,"l",function(){return y}),n.d(t,"n",function(){return O}),n.d(t,"a",function(){return j});var r=n(0),a=n.n(r),o=n(22),c=n(10);function i(e,t){var n=[],r=Object(o.filter)(e,{id:"21331018"});return r.length&&r[0].users.forEach(function(e){t.userIds.includes(e.id.toString())||n.push(e)}),n}function s(e,t){var n=[],r=Object(o.filter)(e,{id:"21331018"});return r.length&&r[0].users.forEach(function(e){t.userIds.includes(e.id.toString())&&n.push(e)}),n}function l(e,t,n,r){var a="",o="",c=n.map(function(t){return e.userStore.users[t].name});if(void 0!==e){if(o=e.name,n.length){if(1===n.length)a=c[0];else if(2===n.length)a=c.join(" and ");else if(n.length>2){var i=c.pop();a="".concat(c.join(", ")," and ").concat(i)}return"NEW"===r?" joined #".concat(t," along with ").concat(a):"".concat(o," added ").concat(a," to #").concat(t)}return"joined #".concat(t)}return!1}function u(e){var t=Object(o.filter)(e.rooms,{id:"21331018"});return!!t.length&&Object(o.orderBy)(t[0].users,["name"],["asc"])}function m(e,t){return!(!e||!e.userStore)&&e.userStore.users[t].name}function d(e,t){return e.userStore.users[t].avatarURL}function f(e,t){return e.userStore.users[t]}function h(){document.querySelector(".channel-".concat("21331018")).click()}function p(e,t,n){var r=[e.id,n];return Object(o.filter)(t,{name:r.sort().join(""),customData:{privateChat:!0}})}function g(e){return!(!e||void 0===e.customData||!e.customData.privateChat)}function b(e){return"118355669689506051312"===e.id}function E(e){return"21331018"===e.id}function y(e){var t=e.presenceStore[e.id];return a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"online-status ".concat(t)}),"\xa0",a.a.createElement("small",null,"online"===t?"active":"away"))}function O(e){return e.isPrivate?a.a.createElement(c.a,{type:"lock"}):"#"}function j(e,t,n,r){return n&&n.unreadCount&&function(e,t){if(e&&t&&void 0!==t[e.id]){var n=Object.values(t[e.id]);return n[n.length-1]}return!1}(n,r).senderId!==e.id&&n.id!==t.id}}},[[169,3,4]]]);