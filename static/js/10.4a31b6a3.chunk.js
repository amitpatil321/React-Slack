(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{366:function(e,t,o){"use strict";o.r(t);var n=o(24),r=o(25),a=o(28),l=o(26),s=o(27),c=o(0),i=o.n(c),d=o(22),u=o(20),p=o(13),m=o(301),f=o(362),b=o(63),h=m.a.Option,S=function(e){var t=e.room,o=e.addPeopleModalVisible,n=e.allUsers,r=e.onUserSelect,a=e.onSubmit,l=e.selectedUsers,s=e.onModalClose;return i.a.createElement(f.a,{title:"Add people to #".concat(t.name),visible:o,onOk:a,onCancel:s,width:380,okText:"Add",maskClosable:!1},i.a.createElement(m.a,{name:"users",mode:"multiple",style:{width:"100%"},onChange:r,placeholder:"Add people",value:l,notFoundContent:i.a.createElement(b.a,{description:"We ran out of people, Thanos killed all of them.",image:b.a.PRESENTED_IMAGE_SIMPLE})},n&&n.map(function(e){var t=e.id,o=e.name;return i.a.createElement(h,{key:t},o)})))},v=o(35),O=o(9),U=function(e){function t(){var e,o;Object(n.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(o=Object(a.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).state={selectedUsers:[]},o._onUserSelect=function(e){return o.setState({selectedUsers:e})},o._clearSelected=function(){return o.setState({selectedUsers:[]})},o._onSubmit=function(){var e=o.state.selectedUsers,t=o.props,n=t.room,r=t.user,a=t.hideAddPeople;o._addPeopleSync(r,n,e).then(function(e){var t=Object(O.m)(r,n.name,e,"EXISTING");Object(v.g)(r,n.id,t,function(){},function(e){return Notification("error","Error notifying channel",e)}),o._clearSelected(),a()})},o._onModalClose=function(){var e=o.props.hideAddPeople;o._clearSelected(),e()},o._addPeopleSync=function(e,t,o){var n=[],r=0;return new Promise(function(a,l){o.forEach(function(s){Object(v.a)(e,t.id,s,function(){n.push(s),r++,o.length===r&&a(n)},function(e){Notification("error","Error adding ".concat(Object(O.g)(t,s)," to room, Please try again"),e),l(e,s)})})})},o}return Object(s.a)(t,e),Object(r.a)(t,[{key:"_getAllUsers",value:function(){var e=this.props,t=e.rooms,o=e.room;return!!t.length&&Object(O.d)(t,o)}},{key:"render",value:function(){var e=this.state.selectedUsers,t=this.props,o=t.room,n=t.addPeopleModalVisible;return i.a.createElement(S,{room:o,addPeopleModalVisible:n,allUsers:Object(d.orderBy)(this._getAllUsers(),["name"],["asc"]),onSubmit:this._onSubmit,onUserSelect:this._onUserSelect,selectedUsers:e,onModalClose:this._onModalClose})}}]),t}(c.Component),_=Object(u.b)(function(e){return{user:e.user,room:e.room,rooms:e.rooms,addPeopleModalVisible:e.addPeopleModalVisible}},function(e){return{hideAddPeople:function(){return e(Object(p.d)())}}})(U);o.d(t,"default",function(){return _})}}]);