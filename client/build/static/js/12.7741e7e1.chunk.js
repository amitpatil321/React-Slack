(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{370:function(e,o,t){"use strict";t.r(o);var n=t(24),r=t(25),s=t(28),a=t(26),i=t(27),l=t(0),c=t.n(l),u=t(22),d=t(20),m=t(13),p=t(46),h=t(301),f=t(362),b=t(63),v=h.a.Option,g=function(e){var o=e.user,t=e.room,n=e.showModal,r=e.selectedUsers,s=e.existingRoomUsers,a=e.handleRemovePeople,i=e.handleChange,l=e.onModalClose;return r=r.filter(function(e){return e!==o.id}),s=Object(u.filter)(s,function(e){return e.id!==o.id}),c.a.createElement(f.a,{title:"Remove people from #".concat(t.name),visible:n,onOk:a,onCancel:l,width:350,okText:"Save",maskClosable:!1},c.a.createElement(h.a,{mode:"multiple",style:{width:"100%"},placeholder:"Remove people",onChange:i,value:r,notFoundContent:c.a.createElement(b.a,{description:"We ran out of people, Thanos killed all of them.",image:b.a.PRESENTED_IMAGE_SIMPLE})},s.length&&s.map(function(e){var o=e.id,t=e.name;return c.a.createElement(v,{key:o},t)})))},O=t(9),R=t(35),j=function(e){function o(){var e,t;Object(n.a)(this,o);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(a.a)(o)).call.apply(e,[this].concat(i)))).state={selectedUsers:[],existingRoomUsers:[]},t.componentDidMount=function(){var e=t.props,o=e.room,n=e.rooms;t.setState({existingRoomUsers:Object(O.e)(n,o)})},t._onChange=function(e){return t.setState({selectedUsers:e})},t._onModalClose=function(){var e=t.props,o=e.room,n=e.hideRemovePeople;t.setState({selectedUsers:o.userIds}),n()},t._handleRemovePeople=function(){var e=t.state.selectedUsers,o=t.props,n=o.user,r=o.room,s=o.hideRemovePeople,a=r.userIds,i=e.concat(n.id),l=a.filter(function(e){return!i.includes(e)}).concat(i.filter(function(e){return!i.includes(e)}));l.length?l.forEach(function(e){Object(R.f)(n,r.id,e,function(){s(),n.id===e&&Object(O.o)()},function(o){Object(p.a)("error","Error removing ".concat(Object(O.g)(r,e)," from #").concat(r.name," , Please try again"),o)})}):s()},t}return Object(i.a)(o,e),Object(r.a)(o,[{key:"componentDidUpdate",value:function(e){var o=this.props,t=o.room,n=o.rooms;o.remPeopleModalVisible!==e.remPeopleModalVisible&&this.setState({selectedUsers:t.userIds,existingRoomUsers:Object(O.e)(n,t)})}},{key:"render",value:function(){var e=this.state,o=e.existingRoomUsers,t=e.selectedUsers,n=this.props,r=n.user,s=n.room,a=n.remPeopleModalVisible;return c.a.createElement(g,{user:r,room:s,showModal:a,selectedUsers:t,existingRoomUsers:Object(u.orderBy)(o,["name"],["asc"]),handleRemovePeople:this._handleRemovePeople,handleChange:this._onChange,onModalClose:this._onModalClose})}}]),o}(l.Component),P=Object(d.b)(function(e){return{user:e.user,room:e.room,rooms:e.rooms,remPeopleModalVisible:e.remPeopleModalVisible}},function(e){return{hideRemovePeople:function(){return e(Object(m.i)())}}})(j);t.d(o,"default",function(){return P})}}]);