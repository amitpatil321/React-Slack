(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{13:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"s",function(){return a}),n.d(t,"k",function(){return o}),n.d(t,"b",function(){return c}),n.d(t,"j",function(){return s}),n.d(t,"q",function(){return i}),n.d(t,"h",function(){return l}),n.d(t,"p",function(){return u}),n.d(t,"g",function(){return m}),n.d(t,"l",function(){return d}),n.d(t,"c",function(){return f}),n.d(t,"m",function(){return h}),n.d(t,"d",function(){return p}),n.d(t,"r",function(){return g}),n.d(t,"i",function(){return E}),n.d(t,"n",function(){return b}),n.d(t,"e",function(){return O}),n.d(t,"o",function(){return y}),n.d(t,"f",function(){return j});var r=function(e){return{type:"CHATKIT_READY",payload:e}},a=function(e){return{type:"UPDATE_ROOMS",payload:e}},o=function(e){return{type:"MESSAGE_RECEIVED",payload:e}},c=function(e){return{type:"CURRENT_USER",payload:e}},s=function(e){return{type:"CURRENT_ROOM",payload:e}},i=function(e){return{type:"SHOW_LOADING",payload:{show:!0,message:e}}},l=function(e){return{type:"HIDE_LOADING"}},u=function(){return{type:"SHOW_LISTCHANNELS"}},m=function(){return{type:"HIDE_LISTCHANNELS"}},d=function(){return{type:"SHOW_ADDCHANNEL"}},f=function(){return{type:"HIDE_ADDCHANNEL"}},h=function(){return{type:"SHOW_ADDPEOPLE"}},p=function(){return{type:"HIDE_ADDPEOPLE"}},g=function(){return{type:"SHOW_REMOVEPEOPLE"}},E=function(){return{type:"HIDE_REMOVEPEOPLE"}},b=function(){return{type:"SHOW_CHANNELINFODRAWER"}},O=function(){return{type:"HIDE_CHANNELINFODRAWER"}},y=function(){return{type:"SHOW_CHANNELDELCONFIRM"}},j=function(){return{type:"HIDE_CHANNELDELCONFIRM"}}},169:function(e,t,n){e.exports=n(276)},174:function(e,t,n){},238:function(e,t,n){},257:function(e,t,n){},263:function(e,t,n){},265:function(e,t,n){},267:function(e,t,n){e.exports=n.p+"static/media/32.9f0be944.png"},275:function(e,t,n){},276:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"APP_NAME",function(){return S}),n.d(r,"SERVER",function(){return D}),n.d(r,"GROUP_MESSAGE_DURATION",function(){return k}),n.d(r,"EMOJI_CODES",function(){return N});var a=n(0),o=n.n(a),c=n(5),s=n.n(c),i=(n(174),n(20)),l=n(86),u=n(72),m=n(12),d={chatkitReady:!1,user:{},room:{},rooms:[],messages:{},error:null,addPeopleModalVisible:!1,remPeopleModalVisible:!1,channelInfoVisible:!1,addChannelModalVisible:!1,listChannelsModalVisible:!1,deleteChannelConfirmVisible:!1,isLoading:{show:!1,message:null}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHATKIT_READY":return Object(m.a)({},e,{rooms:t.payload,chatkitReady:!0});case"UPDATE_ROOMS":return Object(m.a)({},e,{rooms:t.payload});case"MESSAGE_RECEIVED":var n=t.payload.room.id,r=t.payload.id;return Object(m.a)({},e,{messages:Object(m.a)({},e.messages,Object(u.a)({},n,Object(m.a)({},e.messages[n],Object(u.a)({},r,t.payload))))});case"CURRENT_USER":return Object(m.a)({},e,{user:t.payload});case"CURRENT_ROOM":return Object(m.a)({},e,{room:t.payload});case"SHOW_LISTCHANNELS":return Object(m.a)({},e,{listChannelsModalVisible:!0});case"HIDE_LISTCHANNELS":return Object(m.a)({},e,{listChannelsModalVisible:!1});case"SHOW_LOADING":return Object(m.a)({},e,{isLoading:{show:!0,message:t.payload.message?t.payload.message:null}});case"HIDE_LOADING":return Object(m.a)({},e,{isLoading:{show:!1,message:null}});case"SHOW_ADDCHANNEL":return Object(m.a)({},e,{addChannelModalVisible:!0});case"HIDE_ADDCHANNEL":return Object(m.a)({},e,{addChannelModalVisible:!1});case"SHOW_CHANNELINFODRAWER":return Object(m.a)({},e,{channelInfoVisible:!0});case"HIDE_CHANNELINFODRAWER":return Object(m.a)({},e,{channelInfoVisible:!1});case"SHOW_ADDPEOPLE":return Object(m.a)({},e,{addPeopleModalVisible:!0});case"HIDE_ADDPEOPLE":return Object(m.a)({},e,{addPeopleModalVisible:!1});case"NEWPEOPLEADDED":return Object(m.a)({},e);case"SHOW_REMOVEPEOPLE":return Object(m.a)({},e,{remPeopleModalVisible:!0});case"HIDE_REMOVEPEOPLE":return Object(m.a)({},e,{remPeopleModalVisible:!1});case"SHOW_CHANNELDELCONFIRM":return Object(m.a)({},e,{deleteChannelConfirmVisible:!0});case"HIDE_CHANNELDELCONFIRM":return Object(m.a)({},e,{deleteChannelConfirmVisible:!1});default:return e}},h=Object(l.b)(f),p=n(160),g=n(68),E=n(49),b=n(24),O=n(25),y=n(27),j=n(26),v=n(87),C=n(28),I=n(153),w=n.n(I),S="Slack Clone",D="http://localhost:".concat("3000"),k=5,N=["<3","</3","8)","D:",":|",":o)","=)","=-)",":D",":-D",";)",";-)",":>",":->",":o",":-o",">:(",">:-(",":)","(:",":-)",":(","):",":-(",":/",":-/",':"',":P",":-P",":-b",";p",";-p",";b",";-b",":*",":-*"],R=n(154),L=function(e){var t=e.onSuccess,n=e.onFailure,r=e.error;return o.a.createElement(o.a.Fragment,null,r,o.a.createElement(R.GoogleLogin,{clientId:"394070875412-2ln6tt11g9f8oh0b0uj394sssbmivnbb.apps.googleusercontent.com",buttonText:"Login",onSuccess:t,onFailure:n,cookiePolicy:"single_host_origin"}))};L.defaultProps={onSuccess:function(){},onFailure:function(){}};var P=L,_=n(289),A=function(e){var t=e.title,n=e.message,r=e.type,a=t||r;return o.a.createElement("div",{className:"mainContent",id:"mainContent"},o.a.createElement(_.a,{message:a.substring(0,1).toUpperCase()+a.substring(1),description:n,type:r,showIcon:!0}))};A.defaultProps={title:null};var M=A,x=function(e){function t(){var e,n;Object(b.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(y.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(a)))).state={loginSuccess:!1,error:null},n._onSuccess=function(e){var t=e.profileObj;if(t){var r=Object(v.a)(n);w.a.post("".concat(D,"/user"),t).then(function(t){localStorage.setItem("slack",JSON.stringify(e.profileObj)),r.setState({loginSuccess:!0})}).catch(function(e){r.setState({error:o.a.createElement(M,{type:"error",title:"error",message:"Failed to create user!, Please try again."})})})}},n._onFailure=function(e){n.setState({error:o.a.createElement(M,{type:"error",title:"error",message:"Failed to create user!, Please try again."})})},n}return Object(C.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){console.log(r);var e=this.state,t=e.loginSuccess,n=e.error;return t?o.a.createElement(E.a,{to:"/"}):o.a.createElement(P,{error:n,onSuccess:this._onSuccess,onFailure:this._onFailure})}}]),t}(a.Component),H=n(161),T=n(22),V=n(13),F=n(117),U=n.n(F),W=n(286),z=new U.a.TokenProvider({url:"https://us1.pusherplatform.io/services/chatkit_token_provider/v1/".concat("a71e61a4-ff10-4d07-9f94-0c92a5862b4a","/token")}),G=n(283),q=n(284),J=n(10),K=n(280),Y=n(64),B=n(89),Q=n(9),X=n(35),Z=n(46),$=n(288),ee=n(287),te=n(281),ne=n(74),re=n(85),ae=(n(238),$.b.ItemGroup),oe=function(e){var t=e.user,n=e.room,r=e.rooms,a=e.messages,c=e.onSelection,s=e.onLogoutSuccess,i=e.showAddChannel;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"logged-user"},o.a.createElement(te.a,{src:t.avatarURL}),o.a.createElement("span",null,t.name),o.a.createElement(ne.a,{placement:"bottom",title:"Logout",trigger:"hover"},o.a.createElement(re.a,{type:"link",onClick:s,className:"float-right"},o.a.createElement(J.a,{type:"poweroff"})))),o.a.createElement($.b,{className:"rooms-list",mode:"inline",theme:"dark",selectedKeys:[n?n.id:"21331018"]},o.a.createElement(ae,{key:"g1",title:"Channels",className:"channel-group",id:"channels"},Object(T.sortBy)(r,function(e){return e.name}).map(function(e){var r=e.id,s=e.name,i=Object(Q.a)(t,n,e,a)?"unread-message":"";return e.customData&&!0===e.customData.privateChat?null:o.a.createElement($.b.Item,{key:r,onClick:function(){return c(e)},className:"channel-".concat(r," ").concat(i)},Object(Q.n)(e)," ",s)})),o.a.createElement($.b.Item,{className:"add-channel",onClick:i},o.a.createElement("strong",null,o.a.createElement(J.a,{type:"plus"}),"Add a channel")),o.a.createElement(ae,{key:"g2",title:"Direct Message",className:"channel-group",id:"users"},function(){var e,s=r.find(function(e){return"21331018"===e.id});if(s)return Object(T.sortBy)(s.users,function(e){return e.name.toLowerCase()}).map(function(s){var i=Object(Q.c)(t,r,s.id)[0];return i&&(e=Object(Q.a)(t,n,i,a)?o.a.createElement(ee.a,{className:"float-right",count:i.unreadCount,overflowCount:10}):null),o.a.createElement($.b.Item,{key:i?i.id:s.id,onClick:function(){return c(s)},className:"channel-".concat(i?i.id:s.id," slack-users")},o.a.createElement("span",{className:"online-status ".concat("online"===s.presence.state?"online":"offline")}),s.name," ",s.id===t.id&&o.a.createElement("small",null,"(you)"),e)})}())))},ce=function(e){function t(){var e,n;Object(b.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(y.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(a)))).state={isLoggedIn:!0},n._onLogoutSuccess=function(){window.localStorage.removeItem("slack"),n.setState({isLoggedIn:!1})},n._onSelection=function(e){var t=n.props,r=t.user,a=t.rooms,o=t.joinRoom,c=t.showLoading,s=t.hideLoading;if(void 0===e.avatarURL)o(e);else{var i=Object(Q.c)(r,a,e.id);if(i.length)o(i[0]);else{var l=[r.id,e.id].sort().join("");c("Wait a moment!"),Object(X.b)(r,l,[r.id,e.id],!0,{privateChat:!0,userIds:[r.id,e.id].sort()},function(e){o(e),s()},function(e){Object(Z.a)("error","Error","Error creating private room, Please try again!")})}}},n}return Object(C.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.showListChannels;document.querySelector("#channels .ant-menu-item-group-title").addEventListener("click",e)}},{key:"render",value:function(){var e=this.state.isLoggedIn,t=this.props,n=t.user,r=t.room,a=t.rooms,c=t.messages,s=t.showAddChannel,i=t.showListChannels;return e?o.a.createElement(oe,{user:n,room:r,rooms:a,messages:c,onLogoutSuccess:this._onLogoutSuccess,onSelection:this._onSelection,showAddChannel:s,showListChannels:i}):o.a.createElement(E.a,{to:"/login"})}}]),t}(a.Component),se=Object(i.b)(function(e){return{user:e.user,room:e.room,rooms:e.rooms,messages:e.messages}},function(e){return{showListChannels:function(){return e(Object(V.p)())},showAddChannel:function(){return e(Object(V.l)())},showLoading:function(t){return e(Object(V.q)(t))},hideLoading:function(){return e(Object(V.h)())},joinRoom:function(t){return e(Object(V.j)(t))}}})(ce),ie=n(60),le=n.n(ie),ue=n(278),me=n(279),de=n(282),fe=n(158),he=n.n(fe),pe=(n(257),function(e){var t=e.room,n=e.canGroup,r=e.message;if(void 0===r)return!1;var a=r.id,c=r.senderId,s=r.text,i=r.createdAt,l=o.a.createElement(ne.a,{title:le()(i).format("MMM D, YYYY [at] hh:mm:ss A")},o.a.createElement("small",null,le()(i).format("hh:mm A"))),u=Object(Q.g)(t,c),m=Object(Q.h)(t,c);return n?o.a.createElement(ue.a,{className:"grouped-message",key:a},o.a.createElement(me.a,{span:1,style:{width:"55px"}},l),o.a.createElement(me.a,{span:21},o.a.createElement("span",{className:"message-text"},s))):o.a.createElement(de.a,{key:a,author:o.a.createElement("div",{className:"message-sender"},u,"\xa0",l),avatar:o.a.createElement(te.a,{src:m,alt:u}),content:o.a.createElement("span",{className:"message-text"},o.a.createElement(he.a,{properties:{target:"_blank"}},s))})}),ge=function(e){function t(){return Object(b.a)(this,t),Object(y.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(O.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.user,n=e.room,r=e.messages;n.unreadCount&&Object(X.h)(t,n,r[n.id]);var a=document.querySelector(".content");a.scrollTop=a.scrollHeight}},{key:"render",value:function(){var e,t,n=this.props,r=n.room,a=n.messages;return(a=a[r.id])?Object.keys(a).map(function(n,c){var s=!1;if(t=a[n],void 0!==e){var i=le()(t.createdAt),l=le()(e.createdAt),u=i.diff(l,"minutes",!0);u>0&&u<=k&&e.senderId===t.senderId&&(s=!0)}return e=t,o.a.createElement(pe,{room:r,key:a[n].id,canGroup:s,message:a[n]})}):null}}]),t}(a.Component),Ee=Object(i.b)(function(e){return{user:e.user,room:e.room,rooms:e.rooms,messages:e.messages}})(ge),be=function(e){var t=e.options,n=e.showChannelInfoDrawer;return o.a.createElement($.b,{mode:"horizontal",selectedKeys:[""],style:{width:"100px"}},o.a.createElement($.b.Item,{key:"setting:0",onClick:n},o.a.createElement(J.a,{type:"info-circle",style:{color:"#1890ff",fontSize:18}})),t)},Oe=Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(1),n.e(10)]).then(n.bind(null,367))}),ye=Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(1),n.e(12)]).then(n.bind(null,368))}),je=Object(a.lazy)(function(){return Promise.all([n.e(6),n.e(7)]).then(n.bind(null,371))}),ve=Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(11)]).then(n.bind(null,370))}),Ce=$.b.SubMenu,Ie=function(e){function t(){var e,n;Object(b.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(y.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(a))))._leaveRoom=function(){var e=n.props,t=e.user,r=e.room;Object(X.f)(t,r.id,t.id,function(){return Object(Q.o)()},function(e){return Object(Z.a)("error","Error leaving channel",e)})},n}return Object(C.a)(t,e),Object(O.a)(t,[{key:"_availabeOptions",value:function(){var e=this.props,t=e.user,n=e.room,r=e.showChannelInfoDrawer,a=e.showAddPeople,c=e.showRemovePeople,s=e.showDeleteChannelConfirm;if(null===n)return!1;var i=n.name;return Object(Q.k)(n)?o.a.createElement(Ce,{title:o.a.createElement(J.a,{type:"setting",style:{fontSize:18}})},o.a.createElement($.b.Item,{key:"setting:5",onClick:r},"View conversation details")):o.a.createElement(Ce,{title:o.a.createElement(J.a,{type:"setting",style:{fontSize:18}})},o.a.createElement($.b.Item,{key:"setting:1",onClick:a},"Add people to"," ",Object(Q.n)(n),i,"\xa0"),Object(Q.i)(t)&&!Object(Q.j)(n)&&o.a.createElement($.b.Item,{key:"setting:2",onClick:c},"Remove People from"," ",Object(Q.n)(n),i),o.a.createElement($.b.Item,{key:"setting:3",onClick:r},"View channel details"),!Object(Q.j)(n)&&o.a.createElement($.b.Item,{key:"setting:5",onClick:this._leaveRoom},"Leave"," ",Object(Q.n)(n),i),Object(Q.i)(t)&&!Object(Q.j)(n)&&o.a.createElement($.b.Item,{key:"setting:4",onClick:s},"Delete channel"))}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.room,r=e.showChannelInfoDrawer,c=e.channelInfoVisible,s=e.hideChannelInfoDrawer;return o.a.createElement(o.a.Fragment,null,o.a.createElement(be,{options:this._availabeOptions(),showChannelInfoDrawer:r}),o.a.createElement(a.Suspense,{fallback:""},o.a.createElement(Oe,null),o.a.createElement(ye,null),o.a.createElement(ve,null),o.a.createElement(je,{user:t,room:n,channelInfoVisible:c,hideChannelInfoDrawer:s})))}}]),t}(a.Component),we=Object(i.b)(function(e){return{user:e.user,room:e.room,channelInfoVisible:e.channelInfoVisible}},function(e){return{showChannelInfoDrawer:function(){return e(Object(V.n)())},hideChannelInfoDrawer:function(){return e(Object(V.e)())},showAddPeople:function(){return e(Object(V.m)())},showRemovePeople:function(){return e(Object(V.r)())},showDeleteChannelConfirm:function(){return e(Object(V.o)())}}})(Ie),Se=(n(263),function(e){var t,n,r=e.user,a=e.room,c=e.showChannelInfoDrawer;if(void 0===a.customData||!1===a.customData.privateChat)n=[o.a.createElement(J.a,{type:"user",key:a.id}),a.userIds.length],t=o.a.createElement(o.a.Fragment,null,Object(Q.n)(a),a.name);else{var s=Object(T.filter)(a.customData.userIds,function(e){return e!==r.id});s.length?t=Object(Q.g)(a,s):(s=r.id,t="".concat(r.name," (you)")),n=Object(Q.l)(Object(Q.f)(a,s))}return o.a.createElement(ue.a,null,o.a.createElement(me.a,{span:20},o.a.createElement("span",{className:"room-title"},t),"\xa0",o.a.createElement("span",{className:"seperator"}," "),o.a.createElement(re.a,{type:"link",shape:"circle",onClick:c},o.a.createElement("small",null,n))),o.a.createElement(me.a,{span:4,className:"room-settings"},o.a.createElement(we,null)))}),De=function(e){function t(){return Object(b.a)(this,t),Object(y.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.room,r=e.showChannelInfoDrawer;return n&&o.a.createElement(Se,{user:t,room:n,showChannelInfoDrawer:r})}}]),t}(a.Component),ke=Object(i.b)(function(e){return{user:e.user,room:e.room,rooms:e.rooms,showChannelInfoDrawer:e.showChannelInfoDrawer,addPeopleModalVisible:e.addPeopleModalVisible,remPeopleModalVisible:e.remPeopleModalVisible}},function(e){return{showChannelInfoDrawer:function(){return e(Object(V.n)())}}})(De),Ne=n(162),Re=n(285),Le=n(92),Pe=(n(265),n(266),Re.a.TextArea),_e=function(e){var t,r=e.user,c=e.room,s=e.message,i=e.onChange,l=e.onKeyDown,u=e.onEmojiSelected,m=Object(a.useState)(!1),d=Object(Ne.a)(m,2),f=d[0],h=d[1];if(c.customData&&!0===c.customData.privateChat){var p=Object(T.filter)(c.userIds,function(e){return e!==r.id});t=p.length?"Message ".concat(Object(Q.g)(c,p)):"Jot something down"}return o.a.createElement(B.Detector,{render:function(e){var r=e.online;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ue.a,{className:"messagebox-container"},o.a.createElement(me.a,{span:23},o.a.createElement(Pe,{value:s,onChange:i,onKeyDown:l,placeholder:t,autosize:{minRows:1,maxRows:4},className:"slack-message",disabled:!r})),o.a.createElement(me.a,{span:1},o.a.createElement(re.a,{type:"link",className:"smiley",onClick:function(){return h(!f)}},o.a.createElement(J.a,{type:"smile"})),f&&o.a.createElement(Le.a,{set:"emojione",style:{position:"absolute",bottom:"35px",right:"0px"},title:"".concat(S,"\u2122"),emojiTooltip:!0,sheetSize:32,backgroundImageFn:function(){return n(267)},onSelect:function(e){u(e),h(!f)}}))),o.a.createElement("small",{className:"text-red",style:{display:r?"none":"block"}},"You are offline, so messages can\u2019t be sent yet."))}})};_e.defaultProps={onChange:function(){},onKeyDown:function(){},onEmojiSelected:function(){}};var Ae=_e,Me=n(1),xe=function(e){function t(){var e,n;Object(b.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(y.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(a)))).state={message:"",curserPositonStart:0,curserPositonEnd:0},n._onChange=function(e){var t=e.target.value,r=["http","ttps"];N.forEach(function(e){var n=t.indexOf(e);if(-1!==n&&!r.includes(t.substring(n,n-4))){var a=Le.b.search(e).map(function(e){return e.native});a.length&&(t=t.replace(e,a[0]))}}),n.setState({message:t})},n._onKeyDown=function(e){if("Enter"===e.key){var t=n.props,r=t.user,a=t.room,o=n.state.message;o&&o.trim().length&&(n.setState({message:""}),Object(X.g)(r,a.id,o,function(){},function(e){Object(Z.a)("error","Error","Failed to send message, Please try again. ".concat(e))})),e.preventDefault(),e.stopPropagation()}},n._onEmojiSelected=function(e){var t=n.state,r=t.curserPositonStart,a=t.curserPositonEnd,o=document.querySelector(".slack-message").value,c=["".concat(o.substring(0,r)),"".concat(e.native),"".concat(o.substring(a,n.length))];n.setState({message:c.join("")})},n}return Object(C.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this._handleCursorPosition.bind(this),!0),document.addEventListener("click",this._handleCursorPosition.bind(this),!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this._handleCursorPosition.bind(this),!0),document.removeEventListener("click",this._handleCursorPosition.bind(this),!0)}},{key:"_handleCursorPosition",value:function(e){e.target.classList.contains("slack-message")&&this.setState({curserPositonStart:e.target.selectionStart,curserPositonEnd:e.target.selectionEnd})}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.room,r=this.state.message;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ae,{user:t,room:n,message:r,onChange:this._onChange,onKeyDown:this._onKeyDown,onEmojiSelected:this._onEmojiSelected}))}}]),t}(a.Component);Ae.propTypes={user:Me.PropTypes.object.isRequired,room:Me.PropTypes.object.isRequired};var He=Object(i.b)(function(e){return{user:e.user,room:e.room}})(xe),Te=Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(1),n.e(5),n.e(8)]).then(n.bind(null,365))}),Ve=Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(1),n.e(13),n.e(9)]).then(n.bind(null,366))}),Fe=G.a.Header,Ue=G.a.Content,We=G.a.Footer,ze=G.a.Sider,Ge=q.a.Title,qe=o.a.createElement(J.a,{type:"loading",style:{fontSize:24},spin:!0}),Je=function(e){var t=e.user,n=e.room,r=e.rooms,c=e.isLoading,s=e.error;return Object.keys(t).length&&Object.keys(n).length&&r.length?o.a.createElement(o.a.Fragment,null,o.a.createElement(G.a,null,o.a.createElement(ze,{className:"sidebar"},o.a.createElement(se,null)),o.a.createElement(G.a,null,o.a.createElement(Fe,{className:"header"},o.a.createElement(ke,null)),o.a.createElement(Ue,{className:"content"},s&&o.a.createElement(_.a,{message:s,type:"error"}),o.a.createElement(B.Offline,null,o.a.createElement(_.a,{message:"Your computer seems to be offline. We\u2019ll keep trying to reconnect.",type:"warning"})),c.show&&o.a.createElement("div",{className:"screen-center text-center"},o.a.createElement(K.a,{indicator:qe,tip:c.message})),o.a.createElement(Ee,null)),o.a.createElement(We,{className:"footer"},o.a.createElement(He,null)))),o.a.createElement(a.Suspense,{fallback:""},o.a.createElement(Ve,null),o.a.createElement(Te,null))):o.a.createElement(G.a,null,o.a.createElement(ze,{className:"sidebar"},o.a.createElement(Y.a,{height:160,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#888"},o.a.createElement("rect",{x:"122",y:"33",rx:"4",ry:"4",width:"187",height:"18"}),o.a.createElement("circle",{cx:"72",cy:"47",r:"35"})),o.a.createElement(Y.a,{height:340,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#888"},o.a.createElement("rect",{x:"25",y:"14",rx:"4",ry:"4",width:"187",height:"26"}),o.a.createElement("rect",{x:"25",y:"70",rx:"4",ry:"4",width:"267",height:"26"}),o.a.createElement("rect",{x:"25",y:"127",rx:"4",ry:"4",width:"267",height:"26"}),o.a.createElement("rect",{x:"25",y:"187",rx:"4",ry:"4",width:"267",height:"26"}),o.a.createElement("rect",{x:"25",y:"247",rx:"4",ry:"4",width:"267",height:"26"})),o.a.createElement(Y.a,{height:100,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#888"},o.a.createElement("rect",{x:"25",y:"15",rx:"4",ry:"4",width:"250",height:"26"})),o.a.createElement(Y.a,{height:340,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#888"},o.a.createElement("rect",{x:"25",y:"14",rx:"4",ry:"4",width:"187",height:"26"}),o.a.createElement("rect",{x:"25",y:"70",rx:"4",ry:"4",width:"267",height:"26"}),o.a.createElement("rect",{x:"25",y:"127",rx:"4",ry:"4",width:"267",height:"26"}),o.a.createElement("rect",{x:"25",y:"187",rx:"4",ry:"4",width:"267",height:"26"}),o.a.createElement("rect",{x:"25",y:"247",rx:"4",ry:"4",width:"267",height:"26"}))),o.a.createElement(G.a,null,o.a.createElement(Fe,{className:"header"},o.a.createElement(Y.a,{height:30,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#888"},o.a.createElement("rect",{x:"0",y:"8",rx:"3",ry:"3",width:"30",height:"3"}),o.a.createElement("circle",{cx:"35",cy:"10",r:"3"}),o.a.createElement("circle",{cx:"93%",cy:"10",r:"3"}),o.a.createElement("circle",{cx:"97%",cy:"10",r:"3"}))),o.a.createElement(Ue,{className:"content"},o.a.createElement("div",{className:"screen-center text-center"},o.a.createElement(Ge,{level:3},"Thanks you for using ".concat(S,". We appreciate it!")),o.a.createElement("p",{className:"text-light"},"- Your friends at ".concat(S)),o.a.createElement(K.a,{indicator:qe}))),o.a.createElement(We,{className:"footer"})))};Je.defaultProps={isLoading:{show:!1,message:""},error:null};var Ke=Je,Ye=function(e){function t(){var e,n;Object(b.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(y.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(a)))).actions={connected:function(e){return n.props.connected(e)},refresh:function(){return n.forceUpdate()},isTyping:function(){return console.log("isTyping")},notTyping:function(){return console.log("notTyping")},subscribeToRoom:function(e){var t=Object(T.uniqBy)([].concat(Object(H.a)(n.props.rooms),[e]),function(e){return e.id});n.props.updateRooms(t),Object(X.i)(n.props.user,e.id,{onMessage:n.actions.addMessage})},removedFromRoom:function(e){var t=n.props,r=t.room,a=t.rooms;e.id===r.id&&n.props.joinRoom(a.find(function(e){return"21331018"===e.id})),n.props.updateRooms(Object(T.filter)(a,function(t){return t.id!==e.id}))},setUserPresence:function(){return n.forceUpdate()},addMessage:function(e){setTimeout(function(){n.props.setMessages(e)},200)},setUser:function(e){return n.props.currentUser(e)},joinRoom:function(e){return n.props.joinRoom(e)},roomDeleted:function(e){return n.actions.removedFromRoom(e)},error:function(e){return n.setState({error:e})}},n._leaveRoom=function(){var e=n.state,t=e.user,r=e.room;Object(X.f)(t,r.id,t.id,function(){return Object(Q.o)()},function(e){return Object(Z.a)("error","Error leaving channel",e)})},n}return Object(C.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){var e,t,n=JSON.parse(localStorage.getItem("slack"));n&&n.googleId&&(e=JSON.parse(localStorage.getItem("slack")).googleId,t=this.actions,new U.a.ChatManager({instanceLocator:"v1:us1:a71e61a4-ff10-4d07-9f94-0c92a5862b4a",userId:e,tokenProvider:z}).connect({onAddedToRoom:t.subscribeToRoom,onRemovedFromRoom:t.removedFromRoom,onPresenceChanged:t.setUserPresence,onRoomDeleted:t.roomDeleted}).then(function(e){Promise.all(e.rooms.map(function(n){return e.subscribeToRoom({roomId:n.id,messageLimit:5,hooks:{onUserJoined:t.refresh,onMessage:t.addMessage,onUserLeft:t.refresh,onUserStartedTyping:t.isTyping,onUserStoppedTyping:t.notTyping}})})).then(function(n){t.setUser(e),e.rooms.length>0&&t.joinRoom(e.rooms[0]),t.connected(e.rooms)})}).catch(function(e){e.info?W.a.error({message:e.info.error,description:e.info.error_description,onClose:function(){console.log("inside onClose"),localStorage.removeitem("slackUser")}}):t.error(t)}))}},{key:"render",value:function(){var e=JSON.parse(localStorage.getItem("slack")),t=this.props,n=t.user,r=t.room,a=t.rooms,c=t.messages,s=t.showChannelInfoDrawer,i=t.isLoading,l=t.error;return e&&e.googleId?o.a.createElement(Ke,{user:n,room:r,rooms:a,messages:c,showChannelInfoDrawer:s,isLoading:i,error:l}):o.a.createElement(E.a,{to:"/login"})}}]),t}(a.Component);Ye.defaultProps={error:null};var Be=Object(i.b)(function(e){return{chatkitReady:e.chatkitReady,user:e.user,room:e.room,rooms:e.rooms,messages:e.messages,channelInfoVisible:e.channelInfoVisible,isLoading:e.isLoading,error:e.error}},function(e){return{connected:function(t){return e(Object(V.a)(t))},updateRooms:function(t){return e(Object(V.s)(t))},currentUser:function(t){return e(Object(V.b)(t))},joinRoom:function(t){return e(Object(V.j)(t))},setMessages:function(t){return e(Object(V.k)(t))},showChannelInfoDrawer:function(){return e(Object(V.n)())}}})(Ye);n(274),n(275);var Qe=Object(p.hot)(Object(i.b)()(function(){return o.a.createElement(g.a,null,o.a.createElement(E.d,null,o.a.createElement(E.b,{exact:!0,path:"/",component:Be}),o.a.createElement(E.b,{path:"/login",component:x})))})),Xe=o.a.createElement(i.a,{store:h},o.a.createElement(Qe,null));s.a.render(Xe,document.getElementById("root"))},35:function(e,t,n){"use strict";function r(e,t,n,r,a){e.addUserToRoom({userId:n,roomId:t}).then(function(){return r()}).catch(function(e){return a(e)})}function a(e,t,n,r){e.joinRoom({roomId:t.id}).then(function(e){return n(e)}).catch(function(e){return r(e)})}function o(e,t,n,r,a){e.removeUserFromRoom({userId:n,roomId:t}).then(function(){return r()}).catch(function(e){return a(e)})}function c(e,t,n,r,a){e.sendMultipartMessage({roomId:t,parts:[{type:"text/plain",content:n}]}).then(function(e){return r(e)}).catch(function(e){return a(e)})}function s(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{privateChat:!1},o=arguments.length>5?arguments[5]:void 0,c=arguments.length>6?arguments[6]:void 0;e.createRoom({name:t,addUserIds:n,private:r,customData:a}).then(function(e){return o(e)}).catch(function(e){return c(e)})}function i(e,t,n){e.subscribeToRoom({roomId:t,hooks:n})}function l(e,t,n,r){e.deleteRoom({roomId:t.id}).then(function(){return n()}).catch(function(e){return r(e)})}function u(e,t,n){e.getJoinableRooms().then(function(e){return t(e)}).catch(function(e){return n(e)})}function m(e,t,n){n&&e.setReadCursor({roomId:t.id,position:parseInt(Object.keys(n)[Object.keys(n).length-1])}).catch(function(e){return console.log("Error setting read cursor!")})}n.d(t,"a",function(){return r}),n.d(t,"e",function(){return a}),n.d(t,"f",function(){return o}),n.d(t,"g",function(){return c}),n.d(t,"b",function(){return s}),n.d(t,"i",function(){return i}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return u}),n.d(t,"h",function(){return m})},46:function(e,t,n){"use strict";var r=n(286),a=n(1),o=n.n(a),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"success",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";r.a[e]({message:t,description:n})};c.propTypes={title:o.a.string.isRequired,description:o.a.string.isRequired};var s=c;n.d(t,"a",function(){return s})},9:function(e,t,n){"use strict";n.d(t,"d",function(){return s}),n.d(t,"e",function(){return i}),n.d(t,"m",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"g",function(){return m}),n.d(t,"h",function(){return d}),n.d(t,"f",function(){return f}),n.d(t,"o",function(){return h}),n.d(t,"c",function(){return p}),n.d(t,"k",function(){return g}),n.d(t,"i",function(){return E}),n.d(t,"j",function(){return b}),n.d(t,"l",function(){return O}),n.d(t,"n",function(){return y}),n.d(t,"a",function(){return j});var r=n(0),a=n.n(r),o=n(22),c=n(10);function s(e,t){var n=[],r=Object(o.filter)(e,{id:"21331018"});return r.length&&r[0].users.forEach(function(e){t.userIds.includes(e.id.toString())||n.push(e)}),n}function i(e,t){var n=[],r=Object(o.filter)(e,{id:"21331018"});return r.length&&r[0].users.forEach(function(e){t.userIds.includes(e.id.toString())&&n.push(e)}),n}function l(e,t,n,r){var a="",o="",c=n.map(function(t){return e.userStore.users[t].name});if(void 0!==e){if(o=e.name,n.length){if(1===n.length)a=c[0];else if(2===n.length)a=c.join(" and ");else if(n.length>2){var s=c.pop();a="".concat(c.join(", ")," and ").concat(s)}return"NEW"===r?" joined #".concat(t," along with ").concat(a):"".concat(o," added ").concat(a," to #").concat(t)}return"joined #".concat(t)}return!1}function u(e){var t=Object(o.filter)(e.rooms,{id:"21331018"});return!!t.length&&Object(o.orderBy)(t[0].users,["name"],["asc"])}function m(e,t){return!(!e||!e.userStore)&&e.userStore.users[t].name}function d(e,t){return e.userStore.users[t].avatarURL}function f(e,t){return e.userStore.users[t]}function h(){document.querySelector(".channel-".concat("21331018")).click()}function p(e,t,n){var r=[e.id,n];return Object(o.filter)(t,{name:r.sort().join(""),customData:{privateChat:!0}})}function g(e){return!(!e||void 0===e.customData||!e.customData.privateChat)}function E(e){return"118355669689506051312"===e.id}function b(e){return"21331018"===e.id}function O(e){var t=e.presenceStore[e.id];return a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"online-status ".concat(t)}),"\xa0",a.a.createElement("small",null,"online"===t?"active":"away"))}function y(e){return e.isPrivate?a.a.createElement(c.a,{type:"lock"}):"#"}function j(e,t,n,r){return n&&n.unreadCount&&function(e,t){if(e&&t&&void 0!==t[e.id]){var n=Object.values(t[e.id]);return n[n.length-1]}return!1}(n,r).senderId!==e.id&&n.id!==t.id}}},[[169,3,4]]]);